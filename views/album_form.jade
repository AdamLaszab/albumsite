extends layout 

block content 
    h1 #{title}
    h1 #{currentAlbum.artist._id};
    form(method="POST")
        div 
            div 
                label(for='name') Title:
                    input(type='text', name='name',value=currentAlbum.title,required)
            div
                label(for='artist') Artist:
                    select(name="artist")
                        for artist in artists                           
                            if (currentAlbum.artist._id.toString() === artist._id.toString())
                                option(value=artist._id, selected=true) #{artist.name}
                            else
                                option(value=artist._id) #{artist.name}

            div
                lable(for='genre') Genre: 
                    select(name="genre")
                        for genre in genres 
                            if (currentAlbum.genres[0]._id.toString() === genre._id.toString())
                                option(value=genre._id,selected=true) #{genre.name}
                            else 
                                option(value=genre._id) #{genre.name}
            div   
                label(for="albumSummary") Album Summary:
                    div
                        textarea#albumSummary(name="albumSummary", rows="8", cols="40") #{currentAlbum.summary}
        div 

        button(type='submit') Submit
    
    if errors 
        ul 
            for error in errors 
                li!=error.msg 